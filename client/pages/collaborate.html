<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Let's Collaborate</title>
  <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Great+Vibes&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="../assets/css/base.css">
  <link rel="stylesheet" href="../assets/css/pages.css">
</head>
<body>
  <div class="burger-menu" id="burger-menu">
    <span></span>
    <span></span>
    <span></span>
  </div>
  <div class="burger-overlay" id="burger-overlay">
    <nav class="burger-nav">
      <a href="/pages/im-tua.html">Home</a>
      <a href="/pages/tua-erre.html">TUA ERRE</a>
      <a href="/pages/vagabond.html">VAGABOND</a>
      <a href="/pages/essence-package.html">Essence</a>
      <a href="/pages/soul-package.html">Soul</a>
      <a href="/pages/signature-package.html">Signature</a>
      <a href="/pages/collaborate.html">Collaborate</a>
    </nav>
  </div>
  <section class="collab-section">
    <div class="collab-left">
      <div class="collab-title">LET'S</div>
      <span class="collab-script">Collaborate</span>
      <div class="collab-label">Phone</div>
      <div class="collab-value">07 69 69 46 55</div>
      <div class="collab-label">Email</div>
      <div class="collab-value">trangdoan17032408@gmail.com</div>
      <div class="collab-btn-row">
        <a href="mailto:trangdoan17032408@gmail.com" class="collab-btn">Contact Me</a>
        <div class="collab-icons">
          <a href="mailto:trangdoan17032408@gmail.com" class="collab-icon" title="Email"><i class="fas fa-envelope"></i></a>
          <a href="https://instagram.com/tua" target="_blank" class="collab-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
        </div>
      </div>
    </div>
    <div class="collab-center">
      <img id="collab-center-img" class="collab-center-img" src="" alt="Collaborate Preview">
    </div>
    <div id="collab-right" class="collab-right"></div>
  </section>
  <script>
    function matchImage(images, baseName) {
      baseName = baseName.toLowerCase();
      return images.find(img => {
        if (!img.public_id) return false;
        const id = img.public_id.split('/').pop().toLowerCase();
        return id === baseName || id === baseName + '.jpg' || id === baseName + '.jpeg' || id === baseName + '.png';
      });
    }
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        const response = await fetch('/image-url/portfolio');
        const images = await response.json();
        const small = matchImage(images, 'collaborate-1');
        const large = matchImage(images, 'collaborate-2');
        if (small) document.getElementById('collab-center-img').src = small.url;
        if (large) document.getElementById('collab-right').style.backgroundImage = `url('${large.url}')`;
      } catch (err) {
        console.error('Failed to load collaborate images:', err);
      }
    });
    // Burger menu toggle
    const burgerMenu = document.getElementById('burger-menu');
    const burgerOverlay = document.getElementById('burger-overlay');
    burgerMenu.addEventListener('click', function() {
      burgerOverlay.classList.toggle('active');
      burgerMenu.classList.toggle('active');
    });
    burgerOverlay.addEventListener('click', function(e) {
      if (e.target === burgerOverlay) {
        burgerOverlay.classList.remove('active');
        burgerMenu.classList.remove('active');
      }
    });
  </script>
</body>
</html>